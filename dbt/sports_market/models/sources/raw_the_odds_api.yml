version: 2

sources:
  - name: raw_the_odds_api
    description: >
      Raw JSON data ingested from The Odds API into the bronze layer.
    schema: raw_the_odds_api
    database: sports_market

    config:
      loaded_at_field: crt_dt
      freshness:
        warn_after: { count: 24, period: hour }
        error_after: { count: 48, period: hour }
      meta:
        dagster:
          # optional: source-level meta if you need it
          enabled: true

    tables:
      - name: sports
        description: >
          Raw sports metadata pulled from The Odds API `/sports` endpoint.
        config:
          meta:
            dagster:
              asset_key: ["raw_sports"]

      - name: odds
        description: >
          Raw odds metadata pulled from The Odds API `/sports/[sport_key]/odds` endpoint.
        config:
          meta:
            dagster:
              asset_key: ["raw_odds"]

      - name: scores
        description: >
          Raw scores metadata pulled from The Odds API `/sports/[sport_key]/scores` endpoint.
        config:
          meta:
            dagster:
              asset_key: [ "raw_scores" ]

      - name: events
        description: >
          Raw events metadata pulled from The Odds API `/sports/[sport_key]/events` endpoint.
        config:
          meta:
            dagster:
              asset_key: [ "raw_events" ]
